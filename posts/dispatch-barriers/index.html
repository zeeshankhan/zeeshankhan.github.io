<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Handling Shared Resources using Dispatch Barriers" /><meta name="author" content="Zeeshan Khan" /><meta property="og:locale" content="en" /><meta name="description" content="Handling Thread-Unsafe Shared Resource" /><meta property="og:description" content="Handling Thread-Unsafe Shared Resource" /><link rel="canonical" href="https://zeeshankhan.github.io/posts/dispatch-barriers/" /><meta property="og:url" content="https://zeeshankhan.github.io/posts/dispatch-barriers/" /><meta property="og:site_name" content="zeeshan’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2014-09-03T00:00:00+04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Handling Shared Resources using Dispatch Barriers" /><meta name="twitter:site" content="@zeeshan_khan" /><meta name="twitter:creator" content="@Zeeshan Khan" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zeeshan Khan"},"dateModified":"2014-09-03T00:00:00+04:00","datePublished":"2014-09-03T00:00:00+04:00","description":"Handling Thread-Unsafe Shared Resource","headline":"Handling Shared Resources using Dispatch Barriers","mainEntityOfPage":{"@type":"WebPage","@id":"https://zeeshankhan.github.io/posts/dispatch-barriers/"},"url":"https://zeeshankhan.github.io/posts/dispatch-barriers/"}</script><title>Handling Shared Resources using Dispatch Barriers | zeeshan's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zeeshan's blog"><meta name="application-name" content="zeeshan's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/sample/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zeeshan's blog</a></div><div class="site-subtitle font-italic">Recording my learnings from  development</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/resume/" class="nav-link"> <i class="fa-fw fas fa-file ml-xl-3 mr-xl-3 unloaded"></i> <span>RESUME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/zeeshankhan" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/zeeshan_khan" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['izeeshankhan','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Handling Shared Resources using Dispatch Barriers</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Handling Shared Resources using Dispatch Barriers</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/zeeshan_khan">Zeeshan Khan</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1409688000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2014-09-03 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1418 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><h3 id="handling-thread-unsafe-shared-resource"><span class="mr-2">Handling Thread-Unsafe Shared Resource</span><a href="#handling-thread-unsafe-shared-resource" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>In the <a href="http://izeeshan.wordpress.com/2014/08/31/threadsafe-singleton/" title="Is your Singleton Thread-Safe?">last post</a>, we have discussed about creating thread-safe singleton objects. But creating a thread-safe singleton does not solve all the issues. If your singleton object uses any mutable object like <em>NSMutableArray</em>, then you need to consider whether that object is itself thread-safe or not. There is a misconception that the Foundation framework is thread-safe and the Application / UI Kit framework is not. Unfortunately, this is somewhat misleading. Each framework has areas that are thread-safe and areas that are not thread-safe. Apple maintains a <a href="https://developer.apple.com/library/mac/documentation/cocoa/conceptual/multithreading/ThreadSafetySummary/ThreadSafetySummary.html" title="Thread-Safe Unsafe classes">helpful list</a> of the numerous Foundation framework classes which are not thread-safe.</p><h3 id="the-problem"><span class="mr-2">The Problem</span><a href="#the-problem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Lets take an example, we have a class <strong>DocumentManager</strong>, which manages all our document read, write handling. And the <strong>DocumentManager</strong> class has been implemented as a singleton. This singleton object uses a <em>NSMutableArray</em> property for keeping all the document names, which is a Thread-Unsafe class. In <strong>DocumentManager</strong>, we have two functions <em>addDocumentName</em> and <em>allDocs</em>. Although many threads can read an instance of <em>NSMutableArray</em> simultaneously without issue, It’s not safe to let one thread modify the array while another is reading it. Our singleton doesn’t prevent this condition from happening in its current state. To see the problem, have a look at code, which has been reproduced below:</p><p>- (void)addDocumentName:(NSString*)docName { if (docName) [_arrDocs addObject:docName]; }</p><p>This is a write method, which modifies the mutable array object by adding a document name into it. Now take a look at getter method:</p><p>- (NSArray*)allDocs { return [NSArray arrayWithArray:_arrDocs]; }</p><p>This is a read method as it’s reading the mutable array property. It makes an immutable copy for the caller in order to defend against the caller mutating the array inappropriately, but none of this provides any protection against one thread calling the the write method addDocumentName: while simultaneously another thread calls the read method allDocs. This is the classic software development <a href="http://wikipedia.moesalih.com/Readers%E2%80%93writers_problem" title="Readers Writers Problem">Readers-Writers Problem</a>. GCD provides an elegant solution of creating a <a href="http://wikipedia.moesalih.com/Readers%E2%80%93writer_lock" title="Readers Writer Lock">Readers-writer lock</a> using dispatch barriers.</p><h2 id="dispatch-barriers"><span class="mr-2"><strong>Dispatch Barriers</strong></span><a href="#dispatch-barriers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>It allows you to make thread-unsafe object to thread-safe. It creates a synchronisation point for a code block executing in a concurrent dispatch queue. Dispatch barriers are a group of functions acting as a serial queue style objects when working with concurrent queues. Using GCD’s barrier API ensures that the submitted block is the only item executed on the specified queue for that particular time. This means that all items submitted to the queue prior to the dispatch barrier must complete before the block will execute. When the block’s turn arrives, the barrier executes the block and ensures that the queue does not execute any other blocks during that time. Once finished, the queue returns to its default implementation. GCD provides both synchronous and asynchronous barrier functions. The diagram below illustrates the effect of barrier functions on various asynchronous blocks:</p><p>[caption id=”attachment_178” align=”aligncenter” width=”660”]<a href="https://izeeshan.files.wordpress.com/2014/09/dispatch-barrier1.png"><img data-src="https://izeeshan.files.wordpress.com/2014/09/dispatch-barrier1.png?w=660" alt="Dispatch Barrier" data-proofer-ignore></a> Execution of Dispatch Barrier[/caption]</p><p>Notice how in normal operation the queue acts just like a normal concurrent queue. But when the barrier is executing, it essentially acts like a serial queue. That is, the barrier is the only thing executing. After the barrier finishes, the queue goes back to being a normal concurrent queue. Here’s when you would - and wouldn’t - use barrier functions:</p><ul><li><strong>Custom Serial Queue</strong>: A bad choice here; barriers won’t do anything helpful since a serial queue executes one operation at a time anyway.<li><strong>Global Concurrent Queue</strong>: Use caution here; this probably isn’t the best idea since other systems might be using the queues and you don’t want to monopolise them for your own purposes.<li><strong>Custom Concurrent Queue</strong>: This is a great choice for atomic or critical areas of code. Anything you’re setting or instantiating that needs to be thread safe is a great candidate for a barrier.</ul><p>Since the only decent choice above is the custom concurrent queue, you’ll need to create one of your own to handle your barrier function and separate the read and write functions. The concurrent queue will allow multiple read operations simultaneously. Creating a custom concurrent queue is easy: just pass <strong>DISPATCH_QUEUE_CONCURRENT</strong> to the <strong>dispatch_queue_create</strong> function. Open your singleton class, and add the following private property to the class extension category:</p><p>@property (nonatomic, strong) dispatch_queue_t concurrentDocumentQueue;</p><p>Now replace <em>addDocumentName</em> function with below implementation:</p><p>- (void)addDocumentName:(NSString*)docName { if (docName) { // 1 dispatch_barrier_async(self. concurrentDocumentQueue, ^{ // 2 [_arrDocs addObject:docName]; // 3 }); } }</p><p>Here’s how your new write function works:</p><ol><li>Check that there’s a valid document name before performing all the following work.<li>Add the write operation using your custom queue. When the critical section executes at a later time this will be the only item in your queue to execute.<li>This is the actual code which adds the object to the array. Since it’s a barrier block, this block will never run simultaneously with any other block in <em>concurrentDocumentQueue</em>.</ol><p>This takes care of the write method, but we also need to implement the <em>allDocs</em> read method and instantiate <em>concurrentDocumentQueue</em>. To ensure thread safety with the writer side of matters, you need to perform the read on the <em>concurrentDocumentQueue</em> queue. You need to return from the function though, so you can’t dispatch asynchronously to the queue because that wouldn’t necessarily run before the reader function returns. In this case, <em>dispatch_sync</em> would be an excellent candidate. <em>dispatch_sync()</em> synchronously submits work and waits for it to be completed before returning. Use <em>dispatch_sync</em> to track of your work with dispatch barriers, or when you need to wait for the operation to finish before you can use the data processed by the block. If you’re working with the second case, you’ll sometimes see a <em>__block</em> variable written outside of the <em>dispatch_sync</em> scope in order to use the processed object returned outside the <em>dispatch_sync</em> function. You need to be careful though. Imagine if you call <em>dispatch_sync</em> and target the current queue you’re already running on. This will result in a deadlock because the call will wait to until the block finishes, but the block can’t finish (it can’t even start!) until the currently executing task is finished, which can’t! This should force you to be conscious of which queue you’re calling from” as well as which queue you’re passing in. Here’s a quick overview of when and where to use <em>dispatch_sync</em>:</p><ul><li><strong>Custom Serial Queue</strong>: Be VERY careful in this situation; if you’re running in a queue and call <em>dispatch_sync</em> targeting the same queue, you will definitely create a deadlock.<li><strong>Main Queue (Serial)</strong>: Be VERY careful for the same reasons as above; this situation also has potential for a deadlock condition.<li><strong>Concurrent Queue</strong>: This is a good candidate to sync work through dispatch barriers or when waiting for a task to complete so you can perform further processing.</ul><p>Now replace <em>allDocs</em> method with the following implementation:</p><p>- (NSArray*)allDocs { __block NSArray *array; // 1 dispatch_sync(self.concurrentDocumentQueue, ^{ // 2 array = [NSArray arrayWithArray:_arrDocs]; // 3 }); return array; }</p><p>Here’s your read function. Taking each numbered comment in turn, you’ll find the following:</p><ol><li>The <em>__block</em> keyword allows objects to be mutable inside a block. Without this, array would be read-only inside the block and your code wouldn’t even compile.<li>Dispatch synchronously onto the <em>concurrentDocumentQueue</em> to perform the read.<li>Store the document array in array and return it.</ol><p>Finally, you need to instantiate your <em>concurrentDocumentQueue</em> property. Since we are working on a singleton class, so we will make the changes in the <em>sharedManager</em> function so that it instantiate only once. Change <em>sharedManager</em> method to instantiate the custom concurrent queue like so:</p><p>+ (instancetype)sharedManager { static DocumentManager *sharedDocumentManager = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^{ sharedDocumentManager = [[DocumentManager alloc] init]; sharedDocumentManager-&gt;_arrDocs = [NSMutableArray array]; // ADD THIS: sharedDocumentManager-&gt;_concurrentDocumentQueue = dispatch_queue_create(“com.mycompany.ThreadySafety.documentQueue”,DISPATCH_QUEUE_CONCURRENT);  }); return sharedDocumentManager; }</p><p>This initialises <em>concurrentDocumentQueue</em> as a concurrent queue using <em>dispatch_queue_create</em>. The first parameter is a reversed DNS style naming convention; make sure it’s descriptive since this can be helpful when debugging. The second parameter specifies whether you want your queue to be serial or concurrent. Note: When searching for examples on the web, you’ll often see people pass 0 or NULL as the second parameter of <em>dispatch_queue_create</em>. This is a dated way of creating a serial dispatch queue; it’s always better to be specific with your parameters. Your mutable property now thread safe. No matter where or how you read or write this property, you can be confident that it will be done in a safe manner with no amusing surprises.</p><h5 id="you-candownload-the-source-code-which-contains-all-the-code-snippet-used-in-this-postsome-parts-of-this-post-is-derived-fromray-wenderlich-tutorialsthanks-for-reading-"><span class="mr-2">You can download the <a href="https://github.com/zeeshankhan/GCDExercise" title="GCD Practice"><span class="mr-2">source code</a> which contains all the code snippet used in this post. Some parts of this post is derived from <a href="http://www.raywenderlich.com/60749/grand-central-dispatch-in-depth-part-1" title="Ray Wenderlich Tutorials"><span class="mr-2">Ray Wenderlich Tutorials</a>. Thanks for reading. :)</span><a href="#you-candownload-the-source-code-which-contains-all-the-code-snippet-used-in-this-postsome-parts-of-this-post-is-derived-fromray-wenderlich-tutorialsthanks-for-reading-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5></h5></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/technical-posts/'>technical-posts</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/blocks/" class="post-tag no-text-decoration" >blocks</a> <a href="/tags/gcd/" class="post-tag no-text-decoration" >gcd</a> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/max-os-x/" class="post-tag no-text-decoration" >max-os-x</a> <a href="/tags/multiple-threads/" class="post-tag no-text-decoration" >multiple-threads</a> <a href="/tags/multithreading/" class="post-tag no-text-decoration" >multithreading</a> <a href="/tags/objective-c/" class="post-tag no-text-decoration" >objective-c</a> <a href="/tags/threads/" class="post-tag no-text-decoration" >threads</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Handling Shared Resources using Dispatch Barriers - zeeshan&#39;s blog&amp;url=https://zeeshankhan.github.io/posts/dispatch-barriers/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Handling Shared Resources using Dispatch Barriers - zeeshan&#39;s blog&amp;u=https://zeeshankhan.github.io/posts/dispatch-barriers/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://zeeshankhan.github.io/posts/dispatch-barriers/&amp;text=Handling Shared Resources using Dispatch Barriers - zeeshan&#39;s blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/view/">iOS View</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/objective-c/">objective-c</a> <a class="post-tag" href="/tags/multithreading/">multithreading</a> <a class="post-tag" href="/tags/threads/">threads</a> <a class="post-tag" href="/tags/blocks/">blocks</a> <a class="post-tag" href="/tags/gcd/">gcd</a> <a class="post-tag" href="/tags/ipad/">ipad</a> <a class="post-tag" href="/tags/nsthread/">nsthread</a> <a class="post-tag" href="/tags/view-controllers/">view-controllers</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/gcd/"><div class="card-body"> <em class="timeago small" data-ts="1344369600" > 2012-08-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Grand Central Dispatch (GCD)</h3><div class="text-muted small"><p> Grand Central Dispatch:   + Dispatch Queue: It’s an object which is a queue, and that queue contains n number of functions or blocks as their tasks. Library automatically creates different priori...</p></div></div></a></div><div class="card"> <a href="/posts/threadsafe-singleton/"><div class="card-body"> <em class="timeago small" data-ts="1409428800" > 2014-08-31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Is your Singleton Thread-Safe?</h3><div class="text-muted small"><p> First, lets have a look into the concepts of some Terminologies: Singleton A singleton class returns the same instance no matter how many times an application requests it. A typical class permits...</p></div></div></a></div><div class="card"> <a href="/posts/blocks/"><div class="card-body"> <em class="timeago small" data-ts="1346184000" > 2012-08-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Blocks</h3><div class="text-muted small"><p> Blocks are an extension to the C language and thus fully supported in Objective-C. There are two ways to use block: The most common way to use a block is to pass it to a method that in turn ca...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/threadsafe-singleton/" class="btn btn-outline-primary" prompt="Older"><p>Is your Singleton Thread-Safe?</p></a> <a href="/posts/core-data-migration/" class="btn btn-outline-primary" prompt="Newer"><p>Core Data Migration</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/zeeshan_khan">Zeeshan Khan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/objective-c/">objective-c</a> <a class="post-tag" href="/tags/multithreading/">multithreading</a> <a class="post-tag" href="/tags/threads/">threads</a> <a class="post-tag" href="/tags/blocks/">blocks</a> <a class="post-tag" href="/tags/gcd/">gcd</a> <a class="post-tag" href="/tags/ipad/">ipad</a> <a class="post-tag" href="/tags/nsthread/">nsthread</a> <a class="post-tag" href="/tags/view-controllers/">view-controllers</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
