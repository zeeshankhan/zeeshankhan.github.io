<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Automatic Reference Counting - ARC" /><meta name="author" content="Zeeshan Khan" /><meta property="og:locale" content="en" /><meta name="description" content="ARC is supported in Xcode 4.2 and later OS X v10.6 and later (64-bit applications) and for iOS 4 and later. Weak references are not supported in OS X v10.6 and iOS 4. There is no ARC support in Xcode 4.1 and earlier." /><meta property="og:description" content="ARC is supported in Xcode 4.2 and later OS X v10.6 and later (64-bit applications) and for iOS 4 and later. Weak references are not supported in OS X v10.6 and iOS 4. There is no ARC support in Xcode 4.1 and earlier." /><link rel="canonical" href="https://zeeshankhan.github.io/posts/arc/" /><meta property="og:url" content="https://zeeshankhan.github.io/posts/arc/" /><meta property="og:site_name" content="zeeshan’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2012-08-29T00:00:00+04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Automatic Reference Counting - ARC" /><meta name="twitter:site" content="@zeeshan_khan" /><meta name="twitter:creator" content="@Zeeshan Khan" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zeeshan Khan"},"dateModified":"2012-08-29T00:00:00+04:00","datePublished":"2012-08-29T00:00:00+04:00","description":"ARC is supported in Xcode 4.2 and later OS X v10.6 and later (64-bit applications) and for iOS 4 and later. Weak references are not supported in OS X v10.6 and iOS 4. There is no ARC support in Xcode 4.1 and earlier.","headline":"Automatic Reference Counting - ARC","mainEntityOfPage":{"@type":"WebPage","@id":"https://zeeshankhan.github.io/posts/arc/"},"url":"https://zeeshankhan.github.io/posts/arc/"}</script><title>Automatic Reference Counting - ARC | zeeshan's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zeeshan's blog"><meta name="application-name" content="zeeshan's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/sample/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">zeeshan's blog</a></div><div class="site-subtitle font-italic">Recording my learnings from  development</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/resume/" class="nav-link"> <i class="fa-fw fas fa-file ml-xl-3 mr-xl-3 unloaded"></i> <span>RESUME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/zeeshankhan" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/zeeshan_khan" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['izeeshankhan','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Automatic Reference Counting - ARC</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Automatic Reference Counting - ARC</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/zeeshan_khan">Zeeshan Khan</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1346184000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2012-08-29 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="962 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p>ARC is supported in Xcode 4.2 and later OS X v10.6 and later (64-bit applications) and for iOS 4 and later. Weak references are not supported in OS X v10.6 and iOS 4. There is no ARC support in Xcode 4.1 and earlier.</p><p>ARC is a compiler feature, so followings:</p><ul><li>Its a COMPILE TIME memory management model. Its NOT A RUN TIME memory management model.<li>Compiler adds retain, release and autorelease calls to our code at Compile time.<li>Its not new memory model, no new memory mechanism, Its just do retain and release automatically.<li>Compiler adds C functions for retain and release, it does not call retain and release methods. It calls below methods<ul><li>objc_retain(someValue);<li>objc_release(someValue);<li>objc_autorelease(someValue);</ul><li>Compiler also generates appropriate dealloc method for us if needed.<li>Automates Objective-C objects only (i.e. NSObject based objects). Neither it automates malloc() and free() nor CoreFoundation() and CoreGraphics() etc. That means we have to use CFRetain, CFRelease as MRC (Manual Reference Counting) for other than NSObjects classes.<li>There are three places which we can not consider for ARC and a user has to manage memory manually with retain and release (MRC):<ul><li>No heap scan for unused objects (Its not Garbage Collector).<li>No whole app pauses.<li>No non-deterministic release.</ul></ul><p> </p><p>Ownership Type Qualifiers</p><ul><li>__strong =<ul><li>An object remains “alive” as long as there is a strong pointer to it.<li>Retain their values.<li>Its default attribute of a property so we never have to type it.<li>Stack local variables, method parameters are __strong.</ul></ul><p> </p><ul><li><p>__weak = only available on iOS 5 and Mac OX 10.7.</p><li>Specifies a reference that does not keep the referenced object alive. A weak reference is set to nil when there are no strong references to the object.<li>Don’t retain their values.<li>Safely yield nil as soon as referenced object starts deallocating.<li>NSWindow, NSViewController etc does not allow __weak references</ul><p>__weak id obj = [NSObject new]; *** means ***</p><p>__weak id obj;</p><p>id temp = [NSObject new];</p><p>obj = id;</p><p>[id release];</p><p> </p><p>We can modified out Non-ARC code if we want to use __weak with below C functions</p><ul><li>objc_loadWeak(&amp;myWeakIvar);<li>objc_storeWeak(&amp;myWeakIvar, newValue);</ul><p> </p><ul><li>__unsafe_unretained = specifies a reference that does not keep the referenced object alive and is <em>not</em> set to nil when there are no strong references to the object. If the object it references is deallocated, the pointer is left dangling.<ul><li>An alternative for __weak, aka assign kind of property.</ul><li>__autoreleasing = is used to denote arguments that are passed by reference (id *) and are autoreleased on return.<ul><li>for indirect pointers which are treated like autoreleased return values</ul></ul><p> </p><p>Correct Way to declare variable - *** ClassName * qualifier variableName; ***</p><ul><li>MyClass * __weak myWeakReference;<li>MyClass * __unsafe_unretained myUnsafeReference;</ul><p> </p><p>In some cases you can use __unsafe_unretained if the class isn’t __weak compatible. This can, however, become impractical for nontrivial cycles because it can be hard or impossible to validate that the __unsafe_unretained pointer is still valid and still points to the same object in question.</p><p>ARC &amp; Blocks</p><ul><li>Blocks work best under ARC!<li>Blocks always start out on the stack, must be copied when:<ul><li>Stored into instance variables or globals.<li>Returned or indirectly assigned</ul><li>In ARC blocks are automatically copied, we don’t need to copy a block to retain it in heap.</ul><p> </p><p>__block objects variables are __strong by default under ARC.</p><p>__block objects variables are __unsafe_unretained by default under non-ARC. (Dangling Pointer)</p><p> </p><p>Issue with ARC:</p><ul><li><p>You CAN NOT give an accessor a name that begins with new. This in turn means that you can’t, for example, declare a property whose name begins with new unless you specify a different getter:</p><li>Won’t work: @property NSString *newTitle;<li>Works: @property (getter=theNewTitle) NSString *newTitle;</ul><p> </p><ul><li>Problem: Under ARC we may have issues with its strong reference behavior.<ul><li>Solution: we can convert objects into weak reference.<ul><li>1. Either: __weak id objectName = self.<li>2. Or: __block __unsafe_unretained id objectName = self.</ul></ul></ul><p> </p><ul><li>The following is invalid in ARC init methods: [super init];<ul><li>The <em>simple</em> fix is to change it to: self = [super init];<li>The proper fix is to do that, <em>and</em> check the result for nil before continuing:<ul><li>self = [super init];<li>if (self) {<ul><li>…</ul></ul></ul></ul><p> </p><p>Some Other Points:</p><ul><li>Using ARC, strong, weak, and autoreleasing stack variables are now implicitly initialized with nil.<li>The new @autoreleasepool{} construct is about six times faster than NSAutoreleasePool object. @autoreleasepool{} even works in non-ARC code.<li>Use Objective-C objects instead of structs. This is considered to be best practice anyway.<li>In ARC Object Pointers must be initialized with nil.<li>With ARC, instance variables are strong references by default—assigning an object to an instance variable directly does extend the lifetime of the object.<li>Some new CF APIs __bridge, __bridge_retain, __bridge_transfer.<li>Objects are often leaked when exceptions are thrown.<li>We can not explicitly invoke dealloc, or implement or invoke retain, release, autorelease or retainCount. The prohibition extends to using @selector(retain), @selector(release) and so on.</ul><p> </p><p>Migrate your code to ARC</p><ul><li>Compile code with LLVM 3.0<li>Use “Convert to Objective-C ARC” command in Xcode<li>Fix issue until everything compiles<li>Analyze code and fix issues</ul><p> </p><p>Use Compiler Flags to Enable and Disable ARC</p><p>You enable ARC using a new -fobjc-arc compiler flag. You can also choose to use ARC on a per-file basis if it’s more convenient for you to use manual reference counting for some files. For projects that employ ARC as the default approach, you can disable ARC for a specific file using a new -fno-objc-arc compiler flag for that file.</p><p>Object Graph Cycle</p><p> </p><p>New Pointer - Zeroing Weak Pointer (References)</p><ul><li>Just like objects<li>Non-retaining reference<li>Drops to nil automatically</ul><p> </p><p> </p><p>This does not transfer ownership.</p><ul><li>- (void)takeThisError:(NSError*)error; this means<li>- (void)takeThisError:(__autoreleased NSError*)error;</ul><p> </p><p>Passing ownership is possible by using __strong</p><p>- (void)takeThisError:(__strong NSError*)error;</p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Automatic Reference Counting - ARC - zeeshan&#39;s blog&amp;url=https://zeeshankhan.github.io/posts/arc/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Automatic Reference Counting - ARC - zeeshan&#39;s blog&amp;u=https://zeeshankhan.github.io/posts/arc/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://zeeshankhan.github.io/posts/arc/&amp;text=Automatic Reference Counting - ARC - zeeshan&#39;s blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/view/">iOS View</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/objective-c/">objective-c</a> <a class="post-tag" href="/tags/multithreading/">multithreading</a> <a class="post-tag" href="/tags/threads/">threads</a> <a class="post-tag" href="/tags/blocks/">blocks</a> <a class="post-tag" href="/tags/gcd/">gcd</a> <a class="post-tag" href="/tags/ipad/">ipad</a> <a class="post-tag" href="/tags/nsthread/">nsthread</a> <a class="post-tag" href="/tags/view-controllers/">view-controllers</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/view/"><div class="card-body"> <em class="timeago small" data-ts="1644745270" > 2022-02-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>iOS View</h3><div class="text-muted small"><p> Lifecycle Lifecycle of a UIViewController: loadView Creates the view that the controller manages. It’s only called when the view controller is created and only when done programatically. It is r...</p></div></div></a></div><div class="card"> <a href="/posts/github-action/"><div class="card-body"> <em class="timeago small" data-ts="1630057270" > 2021-08-27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Github Action for iOS</h3><div class="text-muted small"><p> To start with Github Action we need to have a repo and few test written to verify our build and test command. First let’s create a YML file in the directory .github/workflows at the root of your re...</p></div></div></a></div><div class="card"> <a href="/posts/swift-5-5/"><div class="card-body"> <em class="timeago small" data-ts="1629798070" > 2021-08-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Swift 5.5 notes</h3><div class="text-muted small"><p> SE-2096 async, await These are the two new keywords in Swift 5.5 for funcs mostly to make them asynchronous and use it like a synchronous function. async and await is to help us avoid pyramid of d...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/gcd/" class="btn btn-outline-primary" prompt="Older"><p>Grand Central Dispatch (GCD)</p></a> <a href="/posts/blocks/" class="btn btn-outline-primary" prompt="Newer"><p>Blocks</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/zeeshan_khan">Zeeshan Khan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">ios</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/objective-c/">objective-c</a> <a class="post-tag" href="/tags/multithreading/">multithreading</a> <a class="post-tag" href="/tags/threads/">threads</a> <a class="post-tag" href="/tags/blocks/">blocks</a> <a class="post-tag" href="/tags/gcd/">gcd</a> <a class="post-tag" href="/tags/ipad/">ipad</a> <a class="post-tag" href="/tags/nsthread/">nsthread</a> <a class="post-tag" href="/tags/view-controllers/">view-controllers</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
